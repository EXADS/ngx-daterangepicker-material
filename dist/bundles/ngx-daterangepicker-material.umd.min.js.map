{"version":3,"sources":["../../node_modules/tslib/tslib.es6.js","ng://ngx-daterangepicker-material/daterangepicker.config.ts","ng://ngx-daterangepicker-material/daterangepicker.component.ts","ng://ngx-daterangepicker-material/locale.service.ts","ng://ngx-daterangepicker-material/daterangepicker.directive.ts","ng://ngx-daterangepicker-material/stop-propagation.directive.ts","ng://ngx-daterangepicker-material/daterangepicker.module.ts"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__decorate","decorators","target","key","desc","d","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__metadata","metadataKey","metadataValue","metadata","__read","o","m","Symbol","iterator","e","ar","next","done","push","value","error","SideEnum","moment","_moment","LOCALE_CONFIG","InjectionToken","DefaultLocaleConfig","direction","separator","weekLabel","applyLabel","cancelLabel","clearLabel","customRangeLabel","daysOfWeek","weekdaysMin","monthNames","monthsShort","firstDay","localeData","firstDayOfWeek","LocaleService","_config","paramIndex","decorator","Injectable","tslib_1.__param","Inject","DaterangepickerComponent","el","_ref","_localeService","_old","start","end","calendarVariables","left","right","timepickerVariables","daterangepicker","FormControl","applyBtn","disabled","sideEnum","singleDatePicker","showDropdowns","showWeekNumbers","showISOWeekNumbers","minDate","maxDate","startDate","startOf","endDate","endOf","dateLimit","showCancelButton","showApplyButton","showClearButton","keepCalendarOpeningWithRange","showRangeLabelOnInput","customRangeDirection","lockStartDate","autoUpdateInput","alwaysShowCalendars","linkedCalendars","closeOnAutoApply","autoApplyChanges","maxSpan","timePicker","timePicker24Hour","timePickerIncrement","timePickerSeconds","_locale","_ranges","firstMonthDayClass","lastMonthDayClass","emptyWeekRowClass","firstDayOfNextMonthClass","lastDayOfPreviousMonthClass","rangesArray","isShown","inline","leftCalendar","rightCalendar","showCalendarInRanges","options","choosedDate","EventEmitter","rangeClicked","datesUpdated","startDateChanged","endDateChanged","showDaterangepicker","hideDaterangepicker","config","renderRanges","ngOnInit","_buildLocale","concat","__spread","locale","shift","clone","setStartDate","renderTimePicker","setEndDate","updateMonthsInView","renderCalendar","ranges","range","format","isBefore","add","isAfter","elem","document","createElement","innerHTML","rangeHtml","showCustomRangeLabel","side","selected","hours","minutes","minutesLabel","seconds","secondsLabel","disabledHours","disabledMinutes","disabledSeconds","selectedHour","selectedMinute","selectedSecond","i_in_24","hour","time","minute","padded","second","amDisabled","pmDisabled","ampmModel","mainCalendar","month","year","daysInMonth","lastDay","lastMonth","subtract","lastYear","daysInLastMonth","dayOfWeek","day","calendar","startDay","curDate","col","row","maxLimit","calRows","Array","from","keys","calCols","classes","currentMonth","currentYear","realCurrentYear","maxYear","minYear","inMinYear","inMaxYear","years","y","dropdowns","monthArrays","yearArrays","_buildCells","Math","round","floor","updateElement","emit","isInvalidDate","date","isCustomDate","updateView","updateCalendars","calculateChosenLabel","displayFormat","chosenRange","chosenLabel","remove","customRange","onClickApply","hide","onClickCancel","onMonthChanged","monthEvent","onMonthOrYearChanged","onYearChanged","yearEvent","timeChanged","timeEvent","parseInt","ampm","isLeft","onClickPrev","onClickNext","onClickDate","tagName","classList","contains","parentElement","_getDateWithTime","stopPropagation","onClickRange","label","dates","isSame","nextMonth","show","detectChanges","updateLocale","clear","disableRange","_this","rangeMarkers","areBothBefore","every","areBothAfter","longDateFormat","rowClasses","hasCurrentMonthDays","Date","isoWeekday","isCustom","cname","replace","join","tslib_1.__decorate","Input","Boolean","Output","ViewChild","ElementRef","DaterangepickerComponent_1","Component","selector","template","encapsulation","ViewEncapsulation","None","providers","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","multi","ChangeDetectorRef","DaterangepickerDirective","viewContainerRef","_changeDetectorRef","_componentFactoryResolver","_el","_renderer","differs","elementRef","_onChange","Function","_onTouched","_validatorChange","_endKey","_startKey","notForChangesProperty","onChange","drops","opens","componentFactory","resolveComponentFactory","componentRef","createComponent","picker","instance","_value","val","markForCheck","asObservable","subscribe","itemChanged","change","nativeElement","localeDiffer","find","create","ngOnChanges","changes","indexOf","currentValue","ngDoCheck","diff","onBlur","open","event","setTimeout","toggle","writeValue","setValue","registerOnChange","fn","registerOnTouched","inputChanged","toLowerCase","dateString","split","isValid","outsideClick","HostListener","DaterangepickerDirective_1","Directive","host","(keyup.esc)","(blur)","(click)","(keyup)","ViewContainerRef","ComponentFactoryResolver","Renderer2","KeyValueDiffers","StopPropagationDirective","stopClick","preventDefault","Event","NgxDaterangepickerMd","forRoot","ngModule","NgxDaterangepickerMd_1","useValue","useClass","deps","NgModule","declarations","imports","CommonModule","FormsModule","ReactiveFormsModule","MatSelectModule","exports","entryComponents"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { InjectionToken, Injector } from '@angular/core';\nimport * as _moment from 'moment';\nconst moment = _moment;\n\nexport const LOCALE_CONFIG = new InjectionToken<LocaleConfig>('daterangepicker.config');\n/**\n *  LocaleConfig Interface\n */\nexport interface LocaleConfig {\n    direction?: string;\n    separator?: string;\n    weekLabel?: string;\n    applyLabel?: string;\n    cancelLabel?: string;\n    clearLabel?: string;\n    customRangeLabel?: string;\n    daysOfWeek?: string[];\n    monthNames?:  string[];\n    firstDay?: number;\n    format?: string;\n    displayFormat?: string;\n}\n/**\n *  DefaultLocaleConfig\n */\nexport const DefaultLocaleConfig: LocaleConfig = {\n    direction: 'ltr',\n    separator: ' - ',\n    weekLabel: 'W',\n    applyLabel: 'Apply',\n    cancelLabel: 'Cancel',\n    clearLabel: 'Clear',\n    customRangeLabel: 'Custom range',\n    daysOfWeek: moment.weekdaysMin(),\n    monthNames: moment.monthsShort(),\n    firstDay: moment.localeData().firstDayOfWeek()\n};\n","import {\n  Component,\n  OnInit,\n  ElementRef,\n  ViewChild,\n  EventEmitter,\n  Output,\n  Input,\n  forwardRef,\n  ViewEncapsulation,\n  ChangeDetectorRef,\n  HostListener\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { FormControl} from '@angular/forms';\nimport { MatSelectChange } from '@angular/material/select';\n\nimport * as _moment from 'moment';\nimport { LocaleService } from './locale.service';\nimport { LocaleConfig } from './daterangepicker.config';\nconst moment = _moment;\n\nexport enum SideEnum {\n  left = 'left',\n  right = 'right'\n}\n\n@Component({\n  selector: 'ngx-daterangepicker-material',\n  styleUrls: ['./daterangepicker.component.scss'],\n  templateUrl: './daterangepicker.component.html',\n  encapsulation: ViewEncapsulation.None,\n  providers: [{\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DaterangepickerComponent),\n      multi: true\n  }]\n})\nexport class DaterangepickerComponent implements OnInit {\n  private _old: {start: any, end: any} = {start: null, end: null};\n  chosenLabel: string;\n  calendarVariables: {left: any, right: any} = {left: {}, right: {}};\n  timepickerVariables: {left: any, right: any} = {left: {}, right: {}};\n  daterangepicker: {start: FormControl, end: FormControl} = {start: new FormControl(), end: new FormControl()};\n  applyBtn: {disabled: boolean} = {disabled: false};\n\n  // used in template for compile time support of enum values.\n  sideEnum = SideEnum;\n\n  // CALENDAR SETTINGS\n  /** Flag to display only one datepicker */\n  @Input() singleDatePicker = false;\n  /** Flag to display month and year dropdowns */\n  @Input() showDropdowns = false;\n  /** Flag to display week numbers */\n  @Input() showWeekNumbers = false;\n  /** Flag to display ISO week numbers */\n  @Input() showISOWeekNumbers = false;\n  /** Position calendar vertically */\n  @Input() drops: 'up' | 'down';\n  /** Position calendar horizontally  */\n  @Input() opens: 'right' | 'left' | 'center' | 'auto';\n  /** Minimun selectable date */\n  @Input() minDate: _moment.Moment = null;\n  /** Maximum selectable date */\n  @Input() maxDate: _moment.Moment = null;\n  /** Start date of current selection */\n  @Input() startDate = moment().startOf('day');\n  /** End date of current selection */\n  @Input() endDate = moment().endOf('day');\n  /** Max number of dates a user can select */\n  @Input() dateLimit: number = null;\n  /** Flag to display custom range label on ranges */\n  @Input() showCustomRangeLabel: boolean;\n  /** Flag to display apply button */\n  @Input() showCancelButton = false;\n  /** Flag to display apply button */\n  @Input() showApplyButton = false;\n  /** Flag to display clear button */\n  @Input() showClearButton = false;\n\n  // CALENDAR BEHAVIOR\n  /** Flag to keep the calendar open after choosing a range */\n  @Input() keepCalendarOpeningWithRange = false;\n  /** Flag to display the range label on input */\n  @Input() showRangeLabelOnInput = false;\n  /** Flag to allow selection range from end date first */\n  @Input() customRangeDirection = false;\n  /** Flag to lock start date and change only the end date */\n  @Input() lockStartDate = false;\n  /** Flag to update input when selecting a date/range  */\n  @Input() autoUpdateInput = true;\n  /** Flag to display the ranges with the calendar*/\n  @Input() alwaysShowCalendars = false;\n  /** Flag to link both calendars */\n  @Input() linkedCalendars = false;\n  /** Close datepicker when auto apply */\n  @Input() closeOnAutoApply = true;\n  /** Flag to auto apply changes on select */\n  @Input() autoApplyChanges = false;\n\n  @Input() maxSpan = false;\n\n  // timepicker variables\n  @Input() timePicker: Boolean = false;\n  @Input() timePicker24Hour: Boolean = false;\n  @Input() timePickerIncrement = 1;\n  @Input() timePickerSeconds: Boolean = false;\n  // end of timepicker variables\n\n  /** Set calendar locale settings */\n  private _locale: LocaleConfig = {};\n  @Input() set locale(value) {\n    this._locale = {...this._localeService.config, ...value};\n  }\n\n  get locale(): any {\n    return this._locale;\n  }\n\n  /** Set custom ranges */\n  private _ranges: any = {};\n  @Input() set ranges(value) {\n      this._ranges = value;\n      this.renderRanges();\n  }\n\n  get ranges(): any {\n      return this._ranges;\n  }\n\n  // CUSTOM CSS\n  @Input() firstMonthDayClass: string = null;\n  @Input() lastMonthDayClass: string = null;\n  @Input() emptyWeekRowClass: string = null;\n  @Input() firstDayOfNextMonthClass: string = null;\n  @Input() lastDayOfPreviousMonthClass: string = null;\n\n  chosenRange: string;\n  rangesArray: Array<any> = [];\n\n  /** Calendar state */\n  isShown = false;\n  inline = true;\n  leftCalendar: any = {};\n  rightCalendar: any = {};\n  showCalendarInRanges = false;\n\n  options: any = {}; // should get some opt from user\n\n  /** Event on date selected */\n  @Output() choosedDate: EventEmitter<Object>;\n  /** Event on range clicked */\n  @Output() rangeClicked: EventEmitter<Object>;\n  /** Event on dates updated */\n  @Output() datesUpdated: EventEmitter<Object>;\n  /** Event on start date changed */\n  @Output() startDateChanged: EventEmitter<Object>;\n  /** Event on end date changed */\n  @Output() endDateChanged: EventEmitter<Object>;\n  /** Event when datepicker is shown */\n  @Output() showDaterangepicker: EventEmitter<void>;\n  /** Event when datepicker is hidden */\n  @Output() hideDaterangepicker: EventEmitter<void>;\n\n  @ViewChild('pickerContainer') pickerContainer: ElementRef;\n\n  constructor(\n    private el: ElementRef,\n    private _ref: ChangeDetectorRef,\n    private _localeService: LocaleService\n  ) {\n    this.choosedDate = new EventEmitter();\n    this.rangeClicked = new EventEmitter();\n    this.datesUpdated = new EventEmitter();\n    this.startDateChanged = new EventEmitter();\n    this.endDateChanged = new EventEmitter();\n    this.showDaterangepicker = new EventEmitter();\n    this.hideDaterangepicker = new EventEmitter();\n  }\n\n  ngOnInit() {\n    this._buildLocale();\n    const daysOfWeek = [...this.locale.daysOfWeek];\n    if (this.locale.firstDay !== 0) {\n      let iterator = this.locale.firstDay;\n\n      while (iterator > 0) {\n        daysOfWeek.push(daysOfWeek.shift());\n        iterator--;\n      }\n    }\n    this.locale.daysOfWeek = daysOfWeek;\n    if (this.inline) {\n      this._old.start = this.startDate.clone();\n      this._old.end = this.endDate.clone();\n    }\n\n    if (this.startDate && this.timePicker) {\n      this.setStartDate(this.startDate);\n      this.renderTimePicker(SideEnum.left);\n    }\n\n    if (this.endDate && this.timePicker) {\n      this.setEndDate(this.endDate);\n      this.renderTimePicker(SideEnum.right);\n    }\n\n    this.updateMonthsInView();\n    this.renderCalendar(SideEnum.left);\n    this.renderCalendar(SideEnum.right);\n    this.renderRanges();\n  }\n\n  /**\n   * Render datepicker ranges\n   */\n  renderRanges(): void {\n    this.rangesArray = [];\n    let start, end;\n    if (typeof this.ranges === 'object') {\n      for (const range in this.ranges) {\n        if (this.ranges[range]) {\n          if (typeof this.ranges[range][0] === 'string') {\n            start = moment(this.ranges[range][0], this.locale.format);\n          } else {\n            start = moment(this.ranges[range][0]);\n          }\n          if (typeof this.ranges[range][1] === 'string') {\n            end = moment(this.ranges[range][1], this.locale.format);\n          } else {\n            end = moment(this.ranges[range][1]);\n          }\n          // If the start or end date exceed those allowed by the minDate or maxSpan\n          // options, shorten the range to the allowable period.\n          if (this.minDate && start.isBefore(this.minDate)) {\n            start = this.minDate.clone();\n          }\n          let maxDate = this.maxDate;\n          if (this.maxSpan && maxDate && start.clone().add(this.maxSpan).isAfter(maxDate)) {\n            maxDate = start.clone().add(this.maxSpan);\n          }\n          if (maxDate && end.isAfter(maxDate)) {\n            end = maxDate.clone();\n          }\n          // If the end of the range is before the minimum or the start of the range is\n          // after the maximum, don't display this range option at all.\n          if ((this.minDate && end.isBefore(this.minDate, this.timePicker ? 'minute' : 'day'))\n          || (maxDate && start.isAfter(maxDate, this.timePicker ? 'minute' : 'day'))) {\n            continue;\n          }\n          // Support unicode chars in the range names.\n          const elem = document.createElement('textarea');\n          elem.innerHTML = range;\n          const rangeHtml = elem.value;\n          this.ranges[rangeHtml] = [start, end];\n        }\n      }\n      for (const range in this.ranges) {\n        if (this.ranges[range]) {\n          this.rangesArray.push(range);\n        }\n      }\n      if (this.showCustomRangeLabel) {\n        this.rangesArray.push(this.locale.customRangeLabel);\n      }\n      this.showCalendarInRanges = (!this.rangesArray.length) || this.alwaysShowCalendars;\n      if (!this.timePicker) {\n        this.startDate = this.startDate.startOf('day');\n        this.endDate = this.endDate.endOf('day');\n      }\n    }\n  }\n\n  /**\n   * Render timepicker ranges\n   *\n   * @param side\n   */\n  renderTimePicker(side: SideEnum): void {\n    if (side === SideEnum.right && !this.endDate) {\n      return;\n    }\n    let selected, minDate;\n    const maxDate = this.maxDate;\n    if (side === SideEnum.left) {\n      selected = this.startDate.clone(),\n      minDate = this.minDate;\n    } else if (side === SideEnum.right) {\n      selected = this.endDate.clone(),\n      minDate = this.startDate;\n    }\n    const start = this.timePicker24Hour ? 0 : 1;\n    const end = this.timePicker24Hour ? 23 : 12;\n    this.timepickerVariables[side] = {\n      hours: [],\n      minutes: [],\n      minutesLabel: [],\n      seconds: [],\n      secondsLabel: [],\n      disabledHours: [],\n      disabledMinutes: [],\n      disabledSeconds: [],\n      selectedHour: 0,\n      selectedMinute: 0,\n      selectedSecond: 0,\n    };\n\n    // generate hours\n    for (let i = start; i <= end; i++) {\n      let i_in_24 = i;\n      if (!this.timePicker24Hour) {\n        i_in_24 = selected.hour() >= 12 ? (i === 12 ? 12 : i + 12) : (i === 12 ? 0 : i);\n      }\n\n      const time = selected.clone().hour(i_in_24);\n      let disabled = false;\n      if (minDate && time.minute(59).isBefore(minDate)) {\n        disabled = true;\n      }\n      if (maxDate && time.minute(0).isAfter(maxDate)) {\n        disabled = true;\n      }\n\n      this.timepickerVariables[side].hours.push(i);\n      if (i_in_24 === selected.hour() && !disabled) {\n        this.timepickerVariables[side].selectedHour = i;\n      } else if (disabled) {\n        this.timepickerVariables[side].disabledHours.push(i);\n      }\n    }\n\n    // generate minutes\n    for (let i = 0; i < 60; i += this.timePickerIncrement) {\n      const padded = i < 10 ? '0' + i : i;\n      const time = selected.clone().minute(i);\n\n      let disabled = false;\n      if (minDate && time.second(59).isBefore(minDate)) {\n        disabled = true;\n      }\n      if (maxDate && time.second(0).isAfter(maxDate)) {\n        disabled = true;\n      }\n      this.timepickerVariables[side].minutes.push(i);\n      this.timepickerVariables[side].minutesLabel.push(padded);\n      if (selected.minute() === i && !disabled) {\n        this.timepickerVariables[side].selectedMinute = i;\n      } else if (disabled) {\n        this.timepickerVariables[side].disabledMinutes.push(i);\n      }\n    }\n\n    // generate seconds\n    if (this.timePickerSeconds) {\n      for (let i = 0; i < 60; i++) {\n        const padded = i < 10 ? '0' + i : i;\n        const time = selected.clone().second(i);\n\n        let disabled = false;\n        if (minDate && time.isBefore(minDate)) {\n          disabled = true;\n        }\n        if (maxDate && time.isAfter(maxDate)) {\n          disabled = true;\n        }\n\n        this.timepickerVariables[side].seconds.push(i);\n        this.timepickerVariables[side].secondsLabel.push(padded);\n        if (selected.second() === i && !disabled) {\n          this.timepickerVariables[side].selectedSecond = i;\n        } else if (disabled) {\n          this.timepickerVariables[side].disabledSeconds.push(i);\n        }\n      }\n    }\n\n    // generate AM/PM\n    if (!this.timePicker24Hour) {\n      const am_html = '';\n      const pm_html = '';\n\n      if (minDate && selected.clone().hour(12).minute(0).second(0).isBefore(minDate)) {\n        this.timepickerVariables[side].amDisabled = true;\n      }\n\n      if (maxDate && selected.clone().hour(0).minute(0).second(0).isAfter(maxDate)) {\n        this.timepickerVariables[side].pmDisabled = true;\n      }\n      if (selected.hour() >= 12) {\n        this.timepickerVariables[side].ampmModel = 'PM';\n      } else {\n        this.timepickerVariables[side].ampmModel = 'AM';\n      }\n    }\n    this.timepickerVariables[side].selected = selected;\n  }\n\n  /**\n   * Render calendar\n   *\n   * @param side\n   */\n  renderCalendar(side: SideEnum): void {\n    const mainCalendar: any = ( side === SideEnum.left ) ? this.leftCalendar : this.rightCalendar;\n    const month = mainCalendar.month.month();\n    const year = mainCalendar.month.year();\n    const hour = mainCalendar.month.hour();\n    const minute = mainCalendar.month.minute();\n    const second = mainCalendar.month.second();\n    const daysInMonth = moment([year, month]).daysInMonth();\n    const firstDay = moment([year, month, 1]);\n    const lastDay = moment([year, month, daysInMonth]);\n    const lastMonth = moment(firstDay).subtract(1, 'month').month();\n    const lastYear = moment(firstDay).subtract(1, 'month').year();\n    const daysInLastMonth = moment([lastYear, lastMonth]).daysInMonth();\n    const dayOfWeek = firstDay.day();\n    // initialize a 6 rows x 7 columns array for the calendar\n    const calendar: any = [];\n    calendar.firstDay = firstDay;\n    calendar.lastDay = lastDay;\n\n    for (let i = 0; i < 6; i++) {\n      calendar[i] = [];\n    }\n\n    // populate the calendar with date objects\n    let startDay = daysInLastMonth - dayOfWeek + this.locale.firstDay + 1;\n    if (startDay > daysInLastMonth) {\n      startDay -= 7;\n    }\n\n    if (dayOfWeek === this.locale.firstDay) {\n      startDay = daysInLastMonth - 6;\n    }\n\n    let curDate = moment([lastYear, lastMonth, startDay, 12, minute, second]);\n\n    for (let i = 0, col = 0, row = 0; i < 42; i++, col++, curDate = moment(curDate).add(24, 'hour')) {\n      if (i > 0 && col % 7 === 0) {\n        col = 0;\n        row++;\n      }\n      calendar[row][col] = curDate.clone().hour(hour).minute(minute).second(second);\n      curDate.hour(12);\n\n      if (this.minDate && calendar[row][col].format('YYYY-MM-DD') === this.minDate.format('YYYY-MM-DD') &&\n      calendar[row][col].isBefore(this.minDate) && side === this.sideEnum.left) {\n        calendar[row][col] = this.minDate.clone();\n      }\n\n      if (this.maxDate && calendar[row][col].format('YYYY-MM-DD') === this.maxDate.format('YYYY-MM-DD') &&\n        calendar[row][col].isAfter(this.maxDate) && side === this.sideEnum.right) {\n        calendar[row][col] = this.maxDate.clone();\n      }\n    }\n\n    // make the calendar object available to hoverDate/clickDate\n    if (side === SideEnum.left) {\n      this.leftCalendar.calendar = calendar;\n    } else {\n      this.rightCalendar.calendar = calendar;\n    }\n    // Display the calendar\n    const minDate = side === this.sideEnum.left ? this.minDate : this.startDate;\n    let maxDate = this.maxDate;\n    // adjust maxDate to reflect the dateLimit setting in order to\n    // grey out end dates beyond the dateLimit\n    if (this.endDate === null && this.dateLimit) {\n      const maxLimit = this.startDate.clone().add(this.dateLimit, 'day').endOf('day');\n      if (!maxDate || maxLimit.isBefore(maxDate)) {\n        maxDate = maxLimit;\n      }\n    }\n    this.calendarVariables[side] = {\n      month: month,\n      year: year,\n      hour: hour,\n      minute: minute,\n      second: second,\n      daysInMonth: daysInMonth,\n      firstDay: firstDay,\n      lastDay: lastDay,\n      lastMonth: lastMonth,\n      lastYear: lastYear,\n      daysInLastMonth: daysInLastMonth,\n      dayOfWeek: dayOfWeek,\n      // other vars\n      calRows: Array.from(Array(6).keys()),\n      calCols: Array.from(Array(7).keys()),\n      classes: {},\n      minDate: minDate,\n      maxDate: maxDate,\n      calendar: calendar\n    };\n    if (this.showDropdowns) {\n      const currentMonth = calendar[1][1].month();\n      const currentYear = calendar[1][1].year();\n      const realCurrentYear = moment().year();\n      const maxYear = (maxDate && maxDate.year()) || (realCurrentYear + 5);\n      const minYear = (minDate && minDate.year()) || (realCurrentYear - 50);\n      const inMinYear = currentYear === minYear;\n      const inMaxYear = currentYear === maxYear;\n      const years = [];\n      for (let y = minYear; y <= maxYear; y++) {\n        years.push(y);\n      }\n\n      this.calendarVariables[side].dropdowns = {\n        currentMonth: currentMonth,\n        currentYear: currentYear,\n        maxYear: maxYear,\n        minYear: minYear,\n        inMinYear: inMinYear,\n        inMaxYear: inMaxYear,\n        monthArrays: Array.from(Array(12).keys()),\n        yearArrays: years\n      };\n    }\n\n    this._buildCells(calendar, side);\n  }\n\n  /**\n   * Set selected start date\n   *\n   * @param startDate\n   */\n  setStartDate(startDate: string | object): void {\n    if (typeof startDate === 'string') {\n      this.startDate = moment(startDate, this.locale.format);\n    }\n\n    if (typeof startDate === 'object') {\n      this.startDate = moment(startDate);\n    }\n    if (!this.timePicker) {\n      this.startDate = this.startDate.startOf('day');\n    }\n\n    if (this.timePicker && this.timePickerIncrement) {\n      this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n    }\n\n    if (this.minDate && this.startDate.isBefore(this.minDate)) {\n      this.startDate = this.minDate.clone();\n      if (this.timePicker && this.timePickerIncrement) {\n        this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n      }\n    }\n\n    if (this.maxDate && this.startDate.isAfter(this.maxDate)) {\n      this.startDate = this.maxDate.clone();\n      if (this.timePicker && this.timePickerIncrement) {\n        this.startDate.minute(Math.floor(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n      }\n    }\n\n    if (!this.isShown) {\n      this.updateElement();\n    }\n    this.startDateChanged.emit({startDate: this.startDate});\n    this.updateMonthsInView();\n  }\n\n  /**\n   * Set selected end date\n   *\n   * @param endDate\n   */\n  setEndDate(endDate: string | object): void {\n    if (typeof endDate === 'string') {\n      this.endDate = moment(endDate, this.locale.format);\n    }\n\n    if (typeof endDate === 'object') {\n      this.endDate = moment(endDate);\n    }\n\n    if (!this.timePicker) {\n      this.endDate = this.endDate.add(1, 'd').startOf('day').subtract(1, 'second');\n    }\n\n    if (this.timePicker && this.timePickerIncrement) {\n      this.endDate.minute(Math.round(this.endDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n    }\n\n\n    if (this.endDate.isBefore(this.startDate)) {\n      this.endDate = this.startDate.clone();\n    }\n\n    if (this.maxDate && this.endDate.isAfter(this.maxDate)) {\n      this.endDate = this.maxDate.clone();\n    }\n\n    if (this.dateLimit && this.startDate.clone().add(this.dateLimit, 'day').isBefore(this.endDate)) {\n      this.endDate = this.startDate.clone().add(this.dateLimit, 'day');\n    }\n\n    if (!this.isShown) {\n      this.updateElement();\n    }\n    this.endDateChanged.emit({endDate: this.endDate});\n    this.updateMonthsInView();\n  }\n\n  /** Check if date is invalid */\n  @Input() isInvalidDate(date) {\n    return false;\n  }\n  /** Custom classes for a date */\n  @Input() isCustomDate(date) {\n    return false;\n  }\n\n  updateView(): void {\n    if (this.timePicker) {\n      this.renderTimePicker(SideEnum.left);\n      this.renderTimePicker(SideEnum.right);\n    }\n    this.updateMonthsInView();\n    this.updateCalendars();\n  }\n\n  /**\n   *  Update months in view\n   */\n  updateMonthsInView(): void {\n    if (this.endDate) {\n    // if both dates are visible already, do nothing\n      if (!this.singleDatePicker && this.leftCalendar.month && this.rightCalendar.month &&\n          ((this.startDate && this.leftCalendar && this.startDate.format('YYYY-MM') === this.leftCalendar.month.format('YYYY-MM')) ||\n          (this.startDate && this.rightCalendar && this.startDate.format('YYYY-MM') === this.rightCalendar.month.format('YYYY-MM')))\n          && (this.endDate.format('YYYY-MM') === this.leftCalendar.month.format('YYYY-MM') ||\n          this.endDate.format('YYYY-MM') === this.rightCalendar.month.format('YYYY-MM'))\n        ) {\n        return;\n      }\n      if (this.startDate) {\n        this.leftCalendar.month = this.startDate.clone().date(2);\n        if (!this.linkedCalendars && (this.endDate.month() !== this.startDate.month() ||\n          this.endDate.year() !== this.startDate.year())) {\n          this.rightCalendar.month = this.endDate.clone().date(2);\n        } else {\n          this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');\n        }\n      }\n    } else {\n      if (this.leftCalendar.month.format('YYYY-MM') !== this.startDate.format('YYYY-MM') &&\n      this.rightCalendar.month.format('YYYY-MM') !== this.startDate.format('YYYY-MM')) {\n        this.leftCalendar.month = this.startDate.clone().date(2);\n        this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');\n      }\n    }\n    if (this.maxDate && this.linkedCalendars && !this.singleDatePicker && this.rightCalendar.month > this.maxDate) {\n      this.rightCalendar.month = this.maxDate.clone().date(2);\n      this.leftCalendar.month = this.maxDate.clone().date(2).subtract(1, 'month');\n    }\n  }\n\n  /**\n   *  Update calendars\n   */\n  updateCalendars(): void {\n    this.renderCalendar(SideEnum.left);\n    this.renderCalendar(SideEnum.right);\n    if (this.endDate === null) { return; }\n    this.calculateChosenLabel();\n  }\n\n  /**\n   * Update input value with calendar selection\n   */\n  updateElement(): void {\n    const format = this.locale.displayFormat ? this.locale.displayFormat : this.locale.format;\n    if (!this.singleDatePicker && this.autoUpdateInput) {\n      if (this.startDate && this.endDate) {\n        // if we use ranges and should show range label on input\n        if (this.rangesArray.length && this.showRangeLabelOnInput === true && this.chosenRange &&\n          this.locale.customRangeLabel !== this.chosenRange) {\n          this.chosenLabel = this.chosenRange;\n        } else {\n          this.chosenLabel = this.startDate.format(format) +\n          this.locale.separator + this.endDate.format(format);\n        }\n      }\n    } else if (this.autoUpdateInput) {\n      this.chosenLabel = this.startDate.format(format);\n    }\n  }\n\n  remove(): void {\n    this.isShown = false;\n  }\n\n  /**\n   * Calculate label to be displayed\n   */\n  calculateChosenLabel(): void {\n    if (!this.locale || !this.locale.separator) {\n      this._buildLocale();\n    }\n    let customRange = true;\n    let i = 0;\n    if (this.rangesArray.length > 0) {\n      for (const range in this.ranges) {\n        if (this.ranges[range]) {\n          if (this.timePicker) {\n            const format = this.timePickerSeconds ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD HH:mm';\n            // ignore times when comparing dates if time picker seconds is not enabled\n            if (this.startDate.format(format) === this.ranges[range][0].format(format)\n              && this.endDate.format(format) === this.ranges[range][1].format(format)) {\n              customRange = false;\n              this.chosenRange = this.rangesArray[i];\n              break;\n            }\n          } else {\n            // ignore times when comparing dates if time picker is not enabled\n            if (this.startDate.format('YYYY-MM-DD') === this.ranges[range][0].format('YYYY-MM-DD')\n              && this.endDate.format('YYYY-MM-DD') === this.ranges[range][1].format('YYYY-MM-DD')) {\n              customRange = false;\n              this.chosenRange = this.rangesArray[i];\n              break;\n            }\n          }\n          i++;\n        }\n      }\n      if (customRange) {\n        if (this.showCustomRangeLabel) {\n          this.chosenRange = this.locale.customRangeLabel;\n        } else {\n          this.chosenRange = null;\n        }\n        // if custom label: show calendar\n        this.showCalendarInRanges = true;\n      }\n    }\n\n    this.updateElement();\n  }\n\n  /**\n   * Event when apply button is clicked\n   *\n   * @param e\n   */\n  onClickApply(e?: Event): void {\n    if (!this.singleDatePicker && this.startDate && !this.endDate) {\n      this.endDate = this.startDate.clone();\n      this.calculateChosenLabel();\n    }\n    if (this.isInvalidDate && this.startDate && this.endDate) {\n      // get if there are invalid date between range\n      const d = this.startDate.clone();\n      while (d.isBefore(this.endDate)) {\n        if (this.isInvalidDate(d)) {\n          this.endDate = d.subtract(1, 'days');\n          this.calculateChosenLabel();\n          break;\n        }\n        d.add(1, 'days');\n      }\n    }\n    if (this.chosenLabel) {\n      this.choosedDate.emit({chosenLabel: this.chosenLabel, startDate: this.startDate, endDate: this.endDate});\n    }\n\n    this.datesUpdated.emit({startDate: this.startDate, endDate: this.endDate});\n    if (e || (this.closeOnAutoApply && !e)) {\n      this.hide();\n    }\n  }\n\n  /**\n   * Event when cancel button is clicked\n   *\n   * @param e\n   */\n  onClickCancel(e: Event): void {\n    this.startDate = this._old.start;\n    this.endDate = this._old.end;\n    if (this.inline) {\n      this.updateView();\n    }\n\n    this.hide();\n  }\n\n  /**\n   * called when month is changed\n   *\n   * @param monthEvent get value in event.target.value\n   *\n   * @param side left or right\n   */\n  onMonthChanged(monthEvent: MatSelectChange, side: SideEnum): void {\n    const year = this.calendarVariables[side].dropdowns.currentYear;\n    this.onMonthOrYearChanged(monthEvent.value, year, side);\n  }\n\n  /**\n   * called when year is changed\n   *\n   * @param yearEvent get value in event.target.value\n   *\n   * @param side left or right\n   */\n  onYearChanged(yearEvent: MatSelectChange, side: SideEnum): void {\n    const month = this.calendarVariables[side].dropdowns.currentMonth;\n    this.onMonthOrYearChanged(month, yearEvent.value, side);\n  }\n\n  /**\n   * called when time is changed\n   *\n   * @param timeEvent  an event\n   *\n   * @param side left or right\n   */\n  timeChanged(timeEvent: MatSelectChange, side: SideEnum): void {\n    let hour = parseInt(this.timepickerVariables[side].selectedHour, 10);\n    const minute = parseInt(this.timepickerVariables[side].selectedMinute, 10);\n    const second = this.timePickerSeconds ? parseInt(this.timepickerVariables[side].selectedSecond, 10) : 0;\n\n    if (!this.timePicker24Hour) {\n      const ampm = this.timepickerVariables[side].ampmModel;\n      if (ampm === 'PM' && hour < 12) {\n        hour += 12;\n      }\n      if (ampm === 'AM' && hour === 12) {\n        hour = 0;\n      }\n    }\n\n    if (side === SideEnum.left) {\n      const start = this.startDate.clone();\n      start.hour(hour);\n      start.minute(minute);\n      start.second(second);\n      this.setStartDate(start);\n      if (this.singleDatePicker) {\n        this.endDate = this.startDate.clone();\n      } else if (this.endDate && this.endDate.format('YYYY-MM-DD') === start.format('YYYY-MM-DD') && this.endDate.isBefore(start)) {\n        this.setEndDate(start.clone());\n      }\n    } else if (this.endDate) {\n      const end = this.endDate.clone();\n      end.hour(hour);\n      end.minute(minute);\n      end.second(second);\n      this.setEndDate(end);\n    }\n\n    // update the calendars so all clickable dates reflect the new time component\n    this.updateCalendars();\n\n    // re-render the time pickers because changing one selection can affect what's enabled in another\n    this.renderTimePicker(SideEnum.left);\n    this.renderTimePicker(SideEnum.right);\n\n    if (this.autoApplyChanges) {\n      this.onClickApply();\n    }\n  }\n\n  /**\n   *  Event when month or year change\n   *\n   * @param month month number 0 -11\n   *\n   * @param year year eg: 1995\n   *\n   * @param side left or right\n   */\n  onMonthOrYearChanged(month: number, year: number, side: SideEnum): void {\n    const isLeft = side === SideEnum.left;\n    if (!isLeft) {\n      if (year < this.startDate.year() || (year === this.startDate.year() && month < this.startDate.month())) {\n        month = this.startDate.month();\n        year = this.startDate.year();\n      }\n    }\n    if (this.minDate) {\n      if (year < this.minDate.year() || (year === this.minDate.year() && month < this.minDate.month())) {\n        month = this.minDate.month();\n        year = this.minDate.year();\n      }\n    }\n    if (this.maxDate) {\n      if (year > this.maxDate.year() || (year === this.maxDate.year() && month > this.maxDate.month())) {\n        month = this.maxDate.month();\n        year = this.maxDate.year();\n      }\n    }\n    this.calendarVariables[side].dropdowns.currentYear = year;\n    this.calendarVariables[side].dropdowns.currentMonth = month;\n    if (isLeft) {\n      this.leftCalendar.month.month(month).year(year);\n      if (this.linkedCalendars) {\n        this.rightCalendar.month = this.leftCalendar.month.clone().add(1, 'month');\n      }\n    } else {\n      this.rightCalendar.month.month(month).year(year);\n      if (this.linkedCalendars) {\n        this.leftCalendar.month = this.rightCalendar.month.clone().subtract(1, 'month');\n      }\n    }\n    this.updateCalendars();\n  }\n\n  /**\n   * Click on previous month\n   *\n   * @param side left or right calendar\n   */\n  onClickPrev(side: SideEnum): void {\n    if (side === SideEnum.left) {\n      this.leftCalendar.month.subtract(1, 'month');\n      if (this.linkedCalendars) {\n        this.rightCalendar.month.subtract(1, 'month');\n      }\n    } else {\n      this.rightCalendar.month.subtract(1, 'month');\n    }\n    this.updateCalendars();\n  }\n\n  /**\n   * Click on next month\n   *\n   * @param side left or right calendar\n   */\n  onClickNext(side: SideEnum): void {\n    if (side === SideEnum.left) {\n      this.leftCalendar.month.add(1, 'month');\n    } else {\n      this.rightCalendar.month.add(1, 'month');\n      if (this.linkedCalendars) {\n        this.leftCalendar.month.add(1, 'month');\n      }\n    }\n    this.updateCalendars();\n  }\n\n  /**\n   * When selecting a date\n   *\n   * @param e event: get value by e.target.value\n   *\n   * @param side left or right\n   *\n   * @param row row position of the current date clicked\n   *\n   * @param col col position of the current date clicked\n   */\n  onClickDate(e, side: SideEnum, row: number, col: number): void {\n    if (e.target.tagName === 'TD') {\n      if (!e.target.classList.contains('available')) {\n        return;\n      }\n    } else if (e.target.tagName === 'SPAN') {\n      if (!e.target.parentElement.classList.contains('available')) {\n        return;\n      }\n    }\n    if (this.rangesArray.length) {\n        this.chosenRange = this.locale.customRangeLabel;\n    }\n\n    let date = side ===  SideEnum.left ? this.leftCalendar.calendar[row][col] : this.rightCalendar.calendar[row][col];\n\n    if ((this.endDate || (date.isBefore(this.startDate, 'day')\n      && this.customRangeDirection === false) ) && this.lockStartDate === false) { // picking start\n      if (this.timePicker) {\n          date = this._getDateWithTime(date, SideEnum.left);\n      }\n      this.endDate = null;\n      this.setStartDate(date.clone());\n    }  else if (!this.endDate && date.isBefore(this.startDate) && this.customRangeDirection === false) {\n      // special case: clicking the same date for start/end,\n      // but the time of the end date is before the start date\n      this.setEndDate(this.startDate.clone());\n    } else { // picking end\n      if (this.timePicker) {\n        date = this._getDateWithTime(date, SideEnum.right);\n      }\n      if (date.isBefore(this.startDate, 'day') === true && this.customRangeDirection === true) {\n        this.setEndDate(this.startDate);\n        this.setStartDate(date.clone());\n      } else {\n        this.setEndDate(date.clone());\n      }\n\n      if (this.autoApplyChanges) {\n        this.calculateChosenLabel();\n        this.onClickApply();\n      }\n    }\n\n    if (this.singleDatePicker) {\n      this.setEndDate(this.startDate);\n      this.updateElement();\n      if (this.autoApplyChanges) {\n          this.onClickApply();\n      }\n    }\n\n    this.updateView();\n\n    if (this.autoApplyChanges && this.startDate && this.endDate) {\n      this.onClickApply();\n    }\n\n    // This is to cancel the blur event handler if the mouse was in one of the inputs\n    e.stopPropagation();\n  }\n\n  /**\n   *  Click on the custom range\n   *\n   * @param e\n   *\n   * @param label\n   */\n  onClickRange(e: Event, label: any): void {\n    e.stopPropagation();\n    this.chosenRange = label;\n    if (label === this.locale.customRangeLabel) {\n      this.isShown = true; // show calendars\n      this.showDaterangepicker.emit();\n      this.showCalendarInRanges = true;\n    } else {\n      const dates = this.ranges[label];\n      this.startDate = dates[0].clone();\n      this.endDate = dates[1].clone();\n      if (this.showRangeLabelOnInput && label !== this.locale.customRangeLabel) {\n          this.chosenLabel = label;\n      } else {\n          this.calculateChosenLabel();\n      }\n      this.showCalendarInRanges = (!this.rangesArray.length) || this.alwaysShowCalendars;\n\n      if (!this.timePicker) {\n        this.startDate.startOf('day');\n        this.endDate.endOf('day');\n      }\n\n      if (!this.alwaysShowCalendars) {\n        this.isShown  = false; // hide calendars\n      }\n      this.rangeClicked.emit({label: label, dates: dates});\n      if (!this.keepCalendarOpeningWithRange) {\n        this.onClickApply();\n      } else {\n        if (!this.alwaysShowCalendars) {\n          return this.onClickApply();\n        }\n        if (this.maxDate && this.maxDate.isSame(dates[0], 'month')) {\n          this.rightCalendar.month.month(dates[0].month());\n          this.rightCalendar.month.year(dates[0].year());\n          this.leftCalendar.month.month(dates[0].month() - 1);\n          this.leftCalendar.month.year(dates[1].year() );\n        } else {\n          this.leftCalendar.month.month(dates[0].month());\n          this.leftCalendar.month.year(dates[0].year());\n          // get the next year\n          const nextMonth = dates[0].clone().add(1, 'month');\n          this.rightCalendar.month.month(nextMonth.month());\n          this.rightCalendar.month.year(nextMonth.year() );\n        }\n        this.updateCalendars();\n        if (this.timePicker) {\n          this.renderTimePicker(SideEnum.left);\n          this.renderTimePicker(SideEnum.right);\n        }\n      }\n    }\n  }\n\n  show(e?: Event): void {\n    if (this.isShown) { return; }\n    this._old.start = this.startDate.clone();\n    this._old.end = this.endDate.clone();\n    this.isShown = true;\n    this.showDaterangepicker.emit();\n    this.updateView();\n  }\n\n  hide(e?: Event): void {\n    if (!this.isShown) {\n        return;\n    }\n\n    // incomplete date selection, revert to last values\n    if (!this.endDate) {\n        if (this._old.start) {\n            this.startDate = this._old.start.clone();\n        }\n        if (this._old.end) {\n            this.endDate = this._old.end.clone();\n        }\n    }\n\n    // if a new date range was selected, invoke the user callback function\n    if (!this.startDate.isSame(this._old.start) || !this.endDate.isSame(this._old.end)) {\n      // this.callback(this.startDate, this.endDate, this.chosenLabel);\n    }\n\n    // if picker is attached to a text input, update it\n    this.updateElement();\n    this.isShown = false;\n    this.hideDaterangepicker.emit();\n    this._ref.detectChanges();\n  }\n\n  /**\n   * Update the locale options\n   *\n   * @param locale\n   */\n  updateLocale(locale): void {\n    for (const key in locale) {\n      if (locale.hasOwnProperty(key)) {\n        this.locale[key] = locale[key];\n        if (key === 'customRangeLabel') {\n          this.renderRanges();\n        }\n      }\n    }\n  }\n\n  /**\n   *  Clear the daterange picker\n   */\n  clear(): void {\n    this.startDate = moment().startOf('day');\n    this.endDate = moment().endOf('day');\n    this.choosedDate.emit({chosenLabel: '', startDate: null, endDate: null});\n    this.datesUpdated.emit({ startDate: null, endDate: null });\n    this.hide();\n  }\n\n  /**\n   * Find out if the selected range should be disabled if it doesn't\n   * fit into minDate and maxDate limitations.\n   *\n   * @param range\n   */\n  disableRange(range: any): boolean {\n    if (range === this.locale.customRangeLabel) {\n      return false;\n    }\n    const rangeMarkers = this.ranges[range];\n    const areBothBefore = rangeMarkers.every( date => {\n      if (!this.minDate) {\n        return false;\n      }\n      return date.isBefore(this.minDate);\n    });\n\n    const areBothAfter = rangeMarkers.every( date => {\n      if (!this.maxDate) {\n        return false;\n      }\n      return date.isAfter(this.maxDate);\n    });\n    return (areBothBefore || areBothAfter);\n  }\n\n  /**\n   * Get date and time\n   *\n   * @param date the date to add time\n   *\n   * @param side left or right\n   */\n  private _getDateWithTime(date, side: SideEnum): _moment.Moment {\n    let hour = parseInt(this.timepickerVariables[side].selectedHour, 10);\n    if (!this.timePicker24Hour) {\n      const ampm = this.timepickerVariables[side].ampmModel;\n      if (ampm === 'PM' && hour < 12) {\n        hour += 12;\n      }\n      if (ampm === 'AM' && hour === 12) {\n        hour = 0;\n      }\n    }\n    const minute = parseInt(this.timepickerVariables[side].selectedMinute, 10);\n    const second = this.timePickerSeconds ? parseInt(this.timepickerVariables[side].selectedSecond, 10) : 0;\n    return date.clone().hour(hour).minute(minute).second(second);\n  }\n\n  /**\n   *  Build the locale config\n   */\n  private _buildLocale(): void {\n    this.locale = {...this._localeService.config, ...this.locale};\n      if (!this.locale.format) {\n      if (this.timePicker) {\n        this.locale.format = moment.localeData().longDateFormat('lll');\n      } else {\n        this.locale.format = moment.localeData().longDateFormat('L');\n      }\n    }\n  }\n\n  /**\n   *  Build calendar cells\n   */\n  private _buildCells(calendar, side: SideEnum): void {\n    for (let row = 0; row < 6; row++) {\n      this.calendarVariables[side].classes[row] = {};\n      const rowClasses = [];\n      if (this.emptyWeekRowClass && !this.hasCurrentMonthDays(this.calendarVariables[side].month, calendar[row])) {\n        rowClasses.push(this.emptyWeekRowClass);\n      }\n      for (let col = 0; col < 7; col++) {\n        const classes = [];\n        // highlight today's date\n        if (calendar[row][col].isSame(new Date(), 'day')) {\n          classes.push('today');\n        }\n        // highlight weekends\n        if (calendar[row][col].isoWeekday() > 5) {\n          classes.push('weekend');\n        }\n        // grey out the dates in other months displayed at beginning and end of this calendar\n        if (calendar[row][col].month() !== calendar[1][1].month()) {\n          classes.push('off');\n\n          // mark the last day of the previous month in this calendar\n          if (\n            this.lastDayOfPreviousMonthClass && (calendar[row][col].month() < calendar[1][1].month() ||\n            calendar[1][1].month() === 0) && calendar[row][col].date() === this.calendarVariables[side].daysInLastMonth\n          ) {\n            classes.push(this.lastDayOfPreviousMonthClass);\n          }\n\n          // mark the first day of the next month in this calendar\n          if (\n            this.firstDayOfNextMonthClass && (calendar[row][col].month() > calendar[1][1].month() ||\n            calendar[row][col].month() === 0) && calendar[row][col].date() === 1\n          ) {\n            classes.push(this.firstDayOfNextMonthClass);\n          }\n        }\n        // mark the first day of the current month with a custom class\n        if (\n          this.firstMonthDayClass && calendar[row][col].month() === calendar[1][1].month() &&\n          calendar[row][col].date() === calendar.firstDay.date()\n        ) {\n          classes.push(this.firstMonthDayClass);\n        }\n        // mark the last day of the current month with a custom class\n        if (this.lastMonthDayClass && calendar[row][col].month() === calendar[1][1].month() &&\n        calendar[row][col].date() === calendar.lastDay.date()) {\n          classes.push(this.lastMonthDayClass);\n        }\n        // don't allow selection of dates before the minimum date\n        if (this.minDate && calendar[row][col].isBefore(this.minDate, 'day')) {\n          classes.push('off', 'disabled');\n        }\n        // don't allow selection of dates after the maximum date\n        if (this.calendarVariables[side].maxDate && calendar[row][col].isAfter(this.calendarVariables[side].maxDate, 'day')) {\n          classes.push('off', 'disabled');\n        }\n        // don't allow selection of date if a custom function decides it's invalid\n        if (this.isInvalidDate(calendar[row][col])) {\n          classes.push('off', 'disabled', 'invalid');\n        }\n        // highlight the currently selected start date\n        if (this.startDate && calendar[row][col].format('YYYY-MM-DD') === this.startDate.format('YYYY-MM-DD')) {\n          classes.push('active', 'start-date');\n        }\n        // highlight the currently selected end date\n        if (this.endDate != null && calendar[row][col].format('YYYY-MM-DD') === this.endDate.format('YYYY-MM-DD')) {\n          classes.push('active', 'end-date');\n        }\n        // highlight dates in-between the selected dates\n        if (this.endDate != null && calendar[row][col] > this.startDate && calendar[row][col] < this.endDate) {\n          classes.push('in-range');\n        }\n        // apply custom classes for this date\n        const isCustom = this.isCustomDate(calendar[row][col]);\n        if (isCustom !== false) {\n          if (typeof isCustom === 'string') {\n            classes.push(isCustom);\n          } else {\n            Array.prototype.push.apply(classes, isCustom);\n          }\n        }\n        // store classes var\n        let cname = '', disabled = false;\n        for (let i = 0; i < classes.length; i++) {\n          cname += classes[i] + ' ';\n          if (classes[i] === 'disabled') {\n            disabled = true;\n          }\n        }\n        if (!disabled) {\n          cname += 'available';\n        }\n        this.calendarVariables[side].classes[row][col] = cname.replace(/^\\s+|\\s+$/g, '');\n      }\n      this.calendarVariables[side].classes[row].classList = rowClasses.join(' ');\n    }\n  }\n\n  /**\n   * Find out if the current calendar row has current month days\n   * (as opposed to consisting of only previous/next month days)\n   */\n  hasCurrentMonthDays(currentMonth, row): boolean {\n    for (let day = 0; day < 7; day++) {\n      if (row[day].month() === currentMonth) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n","import { Injectable, Inject } from '@angular/core';\nimport { LOCALE_CONFIG, DefaultLocaleConfig, LocaleConfig } from './daterangepicker.config';\n\n@Injectable()\nexport class LocaleService {\n  constructor(@Inject(LOCALE_CONFIG) private _config: LocaleConfig) {}\n\n  get config() {\n    if (!this._config) {\n      return DefaultLocaleConfig;\n    }\n\n    return {... DefaultLocaleConfig, ...this._config};\n  }\n}\n","import {\n  Directive,\n  ViewContainerRef,\n  ComponentFactoryResolver,\n  ElementRef,\n  HostListener,\n  forwardRef,\n  ChangeDetectorRef,\n  OnInit,\n  OnChanges,\n  SimpleChanges,\n  Input,\n  DoCheck,\n  KeyValueDiffer,\n  KeyValueDiffers,\n  Output,\n  EventEmitter,\n  Renderer2\n} from '@angular/core';\nimport { DaterangepickerComponent } from './daterangepicker.component';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport * as _moment from 'moment';\nimport { LocaleConfig } from './daterangepicker.config';\nimport { LocaleService } from './locale.service';\nconst moment = _moment;\n\n@Directive({\n  selector: 'input[ngxDaterangepickerMd]',\n  host: {\n    '(keyup.esc)': 'hide()',\n    '(blur)': 'onBlur()',\n    '(click)': 'open()',\n    '(keyup)': 'inputChanged($event)'\n  },\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DaterangepickerDirective), multi: true\n    }\n]\n})\nexport class DaterangepickerDirective implements OnInit, OnChanges, DoCheck {\n  public picker: DaterangepickerComponent;\n  private _onChange = Function.prototype;\n  private _onTouched = Function.prototype;\n  private _validatorChange = Function.prototype;\n  private _value: any;\n  private localeDiffer: KeyValueDiffer<string, any>;\n\n  // CALENDAR SETTINGS\n  /** Flag to display only one datepicker */\n  @Input() singleDatePicker = false;\n  /** Flag to display month and year dropdowns */\n  @Input() showDropdowns = false;\n  /** Flag to display week numbers */\n  @Input() showWeekNumbers = false;\n  /** Flag to display ISO week numbers */\n  @Input() showISOWeekNumbers = false;\n  /** Position calendar vertically */\n  @Input() drops: 'up' | 'down';\n  /** Position calendar horizontally  */\n  @Input() opens: 'right' | 'left' | 'center' | 'auto';\n  /** Minimun selectable date */\n  @Input() minDate: _moment.Moment = null;\n  /** Maximum selectable date */\n  @Input() maxDate: _moment.Moment = null;\n  /** Start date of current selection */\n  @Input() startDate = moment().startOf('day');\n  /** End date of current selection */\n  @Input() endDate = moment().endOf('day');\n  /** Max number of dates a user can select */\n  @Input() dateLimit: number = null;\n  /** Flag to display custom range label on ranges */\n  @Input() showCustomRangeLabel = false;\n  /** Flag to display apply button */\n  @Input() showCancelButton = false;\n  /** Flag to display apply button */\n  @Input() showApplyButton = false;\n  /** Flag to display clear button */\n  @Input() showClearButton = false;\n\n  // CALENDAR BEHAVIOR\n  /** Flag to keep the calendar open after choosing a range */\n  @Input() keepCalendarOpeningWithRange = false;\n  /** Flag to display the range label on input */\n  @Input() showRangeLabelOnInput = false;\n  /** Flag to allow selection range from end date first */\n  @Input() customRangeDirection = false;\n  /** Flag to lock start date and change only the end date */\n  @Input() lockStartDate = false;\n  /** Flag to update input when selecting a date/range  */\n  @Input() autoUpdateInput = true;\n  /** Flag to display the ranges with the calendar*/\n  @Input() alwaysShowCalendars = false;\n  /** Flag to link both calendars */\n  @Input() linkedCalendars = false;\n  /** Close datepicker when auto apply */\n  @Input() closeOnAutoApply = true;\n  /** Flag to auto apply changes on select */\n  @Input() autoApplyChanges = false;\n\n  @Input() maxSpan = false;\n\n  // timepicker variables\n  @Input() timePicker: Boolean = false;\n  @Input() timePicker24Hour: Boolean = false;\n  @Input() timePickerIncrement = 1;\n  @Input() timePickerSeconds: Boolean = false;\n  // end of timepicker variables\n\n  /** Set calendar locale settings */\n  private _locale: LocaleConfig = {};\n  @Input() set locale(value) {\n    this._locale = { ...this._localeService.config, ...value };\n  }\n\n  get locale(): any {\n    return this._locale;\n  }\n\n  /** Set custom ranges */\n  @Input() ranges: any;\n\n  /** Check if date is invalid */\n  @Input() isInvalidDate: Function;\n  /** Custom classes for a date */\n  @Input() isCustomDate: Function;\n\n  // CUSTOM CSS\n  @Input() firstMonthDayClass: string = null;\n  @Input() lastMonthDayClass: string = null;\n  @Input() emptyWeekRowClass: string = null;\n  @Input() firstDayOfNextMonthClass: string = null;\n  @Input() lastDayOfPreviousMonthClass: string = null;\n\n  @Input()\n  private _endKey = 'endDate';\n  private _startKey = 'startDate';\n\n  @Input() set startKey(value) {\n    if (value !== null) {\n      this._startKey = value;\n    } else {\n      this._startKey = 'startDate';\n    }\n  }\n\n  @Input() set endKey(value) {\n    if (value !== null) {\n      this._endKey = value;\n    } else {\n      this._endKey = 'endDate';\n    }\n  }\n\n  notForChangesProperty: Array<string> = [\n    'locale',\n    'endKey',\n    'startKey'\n  ];\n\n  get value() {\n    return this._value || null;\n  }\n  set value(val) {\n    this._value = val;\n    this._onChange(val);\n    this._changeDetectorRef.markForCheck();\n  }\n\n  /** Event on change */\n  @Output('change') onChange: EventEmitter<Object> = new EventEmitter();\n  /** Event on range clicked */\n  @Output('rangeClicked') rangeClicked: EventEmitter<Object> = new EventEmitter();\n  /** Event on dates updated */\n  @Output('datesUpdated') datesUpdated: EventEmitter<Object> = new EventEmitter();\n   /** Event on start date changed */\n  @Output() startDateChanged: EventEmitter<Object> = new EventEmitter();\n  /** Event on end date changed */\n  @Output() endDateChanged: EventEmitter<Object> = new EventEmitter();\n  /** Event when datepicker is shown */\n  @Output() showDaterangepicker: EventEmitter<void> = new EventEmitter();\n  /** Event when datepicker is hidden */\n  @Output() hideDaterangepicker: EventEmitter<void> = new EventEmitter();\n\n  constructor(\n    public viewContainerRef: ViewContainerRef,\n    public _changeDetectorRef: ChangeDetectorRef,\n    private _componentFactoryResolver: ComponentFactoryResolver,\n    private _el: ElementRef,\n    private _renderer: Renderer2,\n    private differs: KeyValueDiffers,\n    private _localeService: LocaleService,\n    private elementRef: ElementRef\n  ) {\n    this.drops = 'down';\n    this.opens = 'auto';\n    const componentFactory = this._componentFactoryResolver.resolveComponentFactory(DaterangepickerComponent);\n    viewContainerRef.clear();\n    const componentRef = viewContainerRef.createComponent(componentFactory);\n    this.picker = (<DaterangepickerComponent>componentRef.instance);\n    this.picker.inline = false; // set inline to false for all directive usage\n  }\n  ngOnInit() {\n    this.picker.startDateChanged.asObservable().subscribe((itemChanged: any) => {\n      this.startDateChanged.emit(itemChanged);\n    });\n    this.picker.endDateChanged.asObservable().subscribe((itemChanged: any) => {\n      this.endDateChanged.emit(itemChanged);\n    });\n    this.picker.rangeClicked.asObservable().subscribe((range: any) => {\n      this.rangeClicked.emit(range);\n    });\n    this.picker.datesUpdated.asObservable().subscribe((range: any) => {\n      this.datesUpdated.emit(range);\n    });\n    this.picker.showDaterangepicker.asObservable().subscribe(() => {\n      this.showDaterangepicker.emit();\n    });\n    this.picker.hideDaterangepicker.asObservable().subscribe(() => {\n      this.hideDaterangepicker.emit();\n    });\n    this.picker.choosedDate.asObservable().subscribe((change: any) => {\n      if (change) {\n        const value = {};\n        value[this._startKey] = change.startDate;\n        value[this._endKey] = change.endDate;\n        this.value = value;\n        this.onChange.emit(value);\n        if (typeof change.chosenLabel === 'string') {\n          this._el.nativeElement.value = change.chosenLabel;\n        }\n      }\n    });\n    this.picker.firstMonthDayClass = this.firstMonthDayClass;\n    this.picker.lastMonthDayClass = this.lastMonthDayClass;\n    this.picker.emptyWeekRowClass = this.emptyWeekRowClass;\n    this.picker.firstDayOfNextMonthClass = this.firstDayOfNextMonthClass;\n    this.picker.lastDayOfPreviousMonthClass = this.lastDayOfPreviousMonthClass;\n    this.picker.drops = this.drops;\n    this.picker.opens = this.opens;\n    this.localeDiffer = this.differs.find(this.locale).create();\n    this.picker.closeOnAutoApply = this.closeOnAutoApply;\n  }\n\n  ngOnChanges(changes: SimpleChanges): void  {\n    for (const change in changes) {\n      if (changes.hasOwnProperty(change)) {\n        if (this.notForChangesProperty.indexOf(change) === -1) {\n          this.picker[change] = changes[change].currentValue;\n        }\n      }\n    }\n  }\n\n  ngDoCheck() {\n    if (this.localeDiffer) {\n      const changes = this.localeDiffer.diff(this.locale);\n      if (changes) {\n        this.picker.updateLocale(this.locale);\n      }\n    }\n  }\n\n  /**\n   * Event on blur\n   */\n  onBlur(): void {\n    this._onTouched();\n  }\n\n  /**\n   * Open picker\n   *\n   * @param event\n   */\n  open(event?: any): void {\n    this.picker.show(event);\n    setTimeout(() => {\n      this.showDaterangepicker.emit();\n    });\n  }\n\n  /**\n   * Hide picker\n   *\n   * @param e\n   */\n  hide(e?): void {\n    this.picker.hide(e);\n    this.hideDaterangepicker.emit();\n  }\n\n  /**\n   * Toggle picker\n   *\n   * @param e\n   */\n  toggle(e?): void {\n    if (this.picker.isShown) {\n      this.hide(e);\n    } else {\n      this.open(e);\n    }\n  }\n\n  /**\n   * Clear picker value\n   */\n  clear(): void {\n    this.picker.clear();\n  }\n\n  /**\n   * Set input value\n   */\n  writeValue(value): void {\n    this.setValue(value);\n  }\n\n  /**\n   * Register change\n   */\n  registerOnChange(fn): void {\n    this._onChange = fn;\n  }\n\n  /**\n   * Register on touch\n   */\n  registerOnTouched(fn): void {\n    this._onTouched = fn;\n  }\n\n  /**\n   * Set input value\n   */\n  private setValue(val: any): void {\n    if (val) {\n      this.value = val;\n      if (val[this._startKey]) {\n        this.picker.setStartDate(val[this._startKey]);\n      }\n      if (val[this._endKey]) {\n        this.picker.setEndDate(val[this._endKey]);\n      }\n      this.picker.calculateChosenLabel();\n      if (this.picker.chosenLabel) {\n        this._el.nativeElement.value = this.picker.chosenLabel;\n      }\n    } else {\n      this.picker.clear();\n    }\n  }\n\n  /**\n   * Event on input change\n   *\n   * @param e\n   */\n  inputChanged(e): void {\n    if (e.target.tagName.toLowerCase() !== 'input') {\n      return;\n    }\n    if (!e.target.value.length) {\n      return;\n    }\n    const dateString = e.target.value.split(this.picker.locale.separator);\n    let start = null, end = null;\n    if (dateString.length === 2) {\n      start = moment(dateString[0], this.picker.locale.format);\n      end = moment(dateString[1], this.picker.locale.format);\n    }\n    if (this.singleDatePicker || start === null || end === null) {\n      start = moment(e.target.value, this.picker.locale.format);\n      end = start;\n    }\n    if (!start.isValid() || !end.isValid()) {\n      return;\n    }\n    this.picker.setStartDate(start);\n    this.picker.setEndDate(end);\n    this.picker.updateView();\n  }\n\n  /**\n   * For click outside of the calendar's container\n   *\n   * @param event event object\n   */\n  @HostListener('document:click', ['$event'])\n  outsideClick(event): void {\n    if (!event.target) {\n      return;\n    }\n\n    if (event.target.classList.contains('ngx-daterangepicker-action') || event.target.classList.contains('cdk-overlay-backdrop')) {\n      return;\n    }\n\n    if (!this.elementRef.nativeElement.contains(event.target)) {\n      this.hide();\n    }\n  }\n}\n","import { Directive, HostListener } from '@angular/core';\n\n@Directive({\n  selector: '[stopClickPropagation]'\n})\nexport class StopPropagationDirective {\n\n  @HostListener('click', ['$event'])\n  stopClick(event: Event) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule, Optional, SkipSelf } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { MatSelectModule } from '@angular/material/select';\n\nimport { DaterangepickerComponent } from './daterangepicker.component';\nimport { DaterangepickerDirective } from './daterangepicker.directive';\nimport { LocaleConfig, LOCALE_CONFIG } from './daterangepicker.config';\nimport { LocaleService } from './locale.service';\nimport { StopPropagationDirective } from './stop-propagation.directive';\n\n@NgModule({\n  declarations: [\n    DaterangepickerComponent,\n    DaterangepickerDirective,\n    StopPropagationDirective\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatSelectModule\n  ],\n  providers: [],\n  exports: [\n    DaterangepickerComponent,\n    DaterangepickerDirective,\n    StopPropagationDirective\n  ],\n  entryComponents: [\n    DaterangepickerComponent\n  ]\n})\nexport class NgxDaterangepickerMd {\n  constructor() {\n  }\n  static forRoot(config: LocaleConfig = {}): ModuleWithProviders {\n    return {\n      ngModule: NgxDaterangepickerMd,\n      providers: [\n        { provide: LOCALE_CONFIG, useValue: config},\n        { provide: LocaleService, useClass: LocaleService, deps: [LOCALE_CONFIG]}\n      ]\n    };\n  }\n}\n"]}